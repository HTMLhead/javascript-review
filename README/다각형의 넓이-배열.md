# 배열

- ### 배열의 선언

  ```javascript
  var a = [];
  //배열안에는 모든 타입이 다 들어갈 수 있다. 함수도 배열안에 배열도, 배열안에 객체도 들어갈 수 있음.
  var a = [1,2,3,"hello", null, true, []];
  ```

  - 간단히 `[]` 를 사용
  - length 속성

  ```javascript
  var a = [4];
  a[1000] = 3;
  console.log(a.length);  //얼마일까요? 한번 해보세요. // 1001
  console.log(a[500]); //그럼, 이 결과는 무엇일까요? // undefined
  ```

  ```javascript
  var a = [4];
  a.push(5);
  console.log(a.length); // 2
  ```

  - push 메서드를 통해서 뒤에 순차적으로 추가가 가능



- ### 배열의 유용한 메서드들

  ```javascript
  //배열의 원소에 특정 값이 들어 있는지 확인할 수 있음
  [1,2,3,4].indexOf(3) //2

  //배열의 문자열로 합칠 수 있다.
  [1,2,3,4].join(); //"1,2,3,4" 

  // 배열을 자를 수 있음
  [1,2,3,4].slice(2); // [3, 4]

  //배열을 합칠 수 이다.
  [1,2,3,4].concat(2,3);  //[1,2,3,4,2,3]
  ```

  - indexOf
  - join
  - slice
  - concat

  ```javascript
  var origin = [1,2,3,4];

  var result = [...origin, 2, 3];

  console.log(origin, result); // [1,2,3,4][1,2,3,4,2,3]
  ```

  - spread Operation (?)
    - concat과 같은 동작을 함
  - ES2015 문법
  - 참고로 알아둘 것

  ```javascript
  //origin과 changed는 같은 배열원소를 가지고 있지만, 두 개가 가리키는 메모리 주소는 다릅니다.즉 reference가 다르다고 할 수 있습니다. 
  var origin = [1,2,3,4];
  var changed = origin.concat();  //[1,2,3,4]
  console.log(origin === changed);  //[1, 2, 3, 4] [1, 2, 3, 4] false
  ```

  - 어떤 메서드는 **새로운 배열을 반환**하고
  - 어떤 메서드는 **기존 배열의 값을 변형**시킴
  - 예를들어, `concat` 은 원래 배열은 그대로, 리턴값은 새로운 배열을 반환함
  - 이점을 주의할 것



- ### 배열 탐색 (foreach, map, filter)

  ```javascript
  foreach

  var origin = [1,2,3,4];
  var changedArray = [...origin, 2, 3];

  changedArray.forEach(function(v, i, o) {
      console.log(v); // 1 2 3 4 2 3
  })
  ```

  - i와 o의 역할이 무엇인지 아직 모르겠음
  - forEach 는 **함수를 인자로** 가질 수 있음
  - 성능차도 약간 존재하지만 미미한 차이임
  - 기존 for문에서 증가하는 부분이나 감소하는 부분을 JS 파서가 알아서 처리함

  ```javascript
  map

  var newArr = ["apple","tomato"].map(function(value, index) {
     return index + "번째 과일은 " + value + "입니다";
  });
  console.log(newArr)// 여러분들이 실행해보세요
  ```

  - 0번째 과일은 apple입니다
  - 1번째 과일은 tomato입니다

  ```javascript
  map

  var origin = [1,2,3,4];
  var changedArray = [...origin, 2, 3];

  changedArray.forEach(function(v, i, o) {
      console.log(v);
  })

  var mapped = changedArray.map(function(v){ 
      return v * 2; // changedArray의 원소를 돌면서, 값을 변경시킨 후 새로운 배열로 만들어서 리턴
  })

  console.log(changedArray); // [1,2,3,4,2,3]
  console.log(mapped); // [2,4,6,8,4,6]
  ```

  - `map`은 새로운 배열을 반환하는 return값이 존재함
  - v 에 대해서 `*2` 를 해주면, changeArray의 원소를 돌면서
  - **값을 변경**시킨 후 **새로운 배열로 리턴**하는 코드임

  ```javascript
  filter

    var filtered = [12, 5, 8, 130, 44].filter(function isBigEnough(value){
        return value >= 10;
    });

    console.log(filtered); // [12, 130, 44]
  ```

  - 함수로 조건을 넣어주고 해당 조건이 아닌 것들을 필터함

  ```javascript
  reduce - 배열의 값 모두 더하기
  var total = [0, 1, 2, 3].reduce(function(a, b) {
    return a + b;
  });
  // total == 6
  ```

  ```javascript
  reduce - 배열의 배열(2차원 배열)1차원으로 내리기
  var flattened = [[0, 1], [2, 3], [4, 5]].reduce(function(a, b) {
    return a.concat(b);
  }, []);
  // flattened is [0, 1, 2, 3, 4, 5]
  ```

  ```javascript
  some - 배열 요소값 테스트
  function isBiggerThan10(element, index, array) {
    return element > 10;
  }
  [2, 5, 8, 1, 4].some(isBiggerThan10);  // false
  [12, 5, 8, 1, 4].some(isBiggerThan10); // true
  ```

  ```javascript
  some - 화살표 함수를 사용한 배열 요소 테스트
  [2, 5, 8, 1, 4].some(elem => elem > 10);  // false
  [12, 5, 8, 1, 4].some(elem => elem > 10); // true
  ```

  ```javascript
  some - 값이 배열 내 존재하는지 확인
  var fruits = ['apple', 'banana', 'mango', 'guava'];

  function checkAvailability(arr, val) {
      return arr.some(function(arrVal) {
          return val === arrVal;
      });
  }

  checkAvailability(fruits, 'kela'); //false
  checkAvailability(fruits, 'banana'); //true
  ```

  ```javascript
  some - 화살표 함수를 사용하여 값이 존재하는지 확인
  var fruits = ['apple', 'banana', 'mango', 'guava'];

  function checkAvailability(arr, val) {
      return arr.some(arrVal => val === arrVal);
  }

  checkAvailability(fruits, 'kela'); //false
  checkAvailability(fruits, 'banana'); //true
  ```

  ```javascript
  some - 모든 값을 Boolean으로 변환
  var TRUTHY_VALUES = [true, 'true', 1];

  function getBoolean(a) {
      'use strict';

      var value = a;

      if (typeof value === 'string') {
          value = value.toLowerCase().trim();
      }

      return TRUTHY_VALUES.some(function(t) {
          return t === value;
      });
  }

  getBoolean(false); // false
  getBoolean('false'); // false
  getBoolean(1); // true
  getBoolean('true'); // true
  ```

  ```javascript
  every - 모든 배열 요소의 크기 테스트
  function isBigEnough(element, index, array) {
    return element >= 10;
  }
  [12, 5, 8, 130, 44].every(isBigEnough);   // false
  [12, 54, 18, 130, 44].every(isBigEnough); // true
  ```

  ```javascript
  every - 화살표 함수 사용
  [12, 5, 8, 130, 44].every(elem => elem >= 10); // false
  [12, 54, 18, 130, 44].every(elem => elem >= 10); // true
  ```

  ​